sampleTable = searchSamples_v2(...
        {{"Batch","Cr2O3_energy";...
        "NameVal","-2";...
        "Sub","c-Al2O3"}}...
    ,true);

sampleTable = sortrows(sampleTable,"d");
N = numel(sampleTable.Id);

data = cell([N,1]);
ax = createAxes;
    set(gcf,"CurrentAxes",ax)
    hold(ax,"on")
cm = linePainterMap([.2,.8,.2],[.7,.1,.7],N);
for i = 1:N
    fileName = getFilePathsFromId(sampleTable.Id{i},...
        "XRD_2ThetaOmega",...
        ".xy");
    xy = getDiffraction(fileName{:});
    H(i,1) = plot(xy(:,1),xy(:,2),...
        LineWidth=1.5,...
        Color=cm(i,:),...
        DisplayName=num2str(sampleTable.d(i))+" nm");
    hold on
    numeric(i,2) = getPeakShift(sampleTable(i,:),"tableinput",true,"relative",true);
    numeric(i,1) = sampleTable.d(i);
end
% linePainter(H,"start",[.2 .8 .2],"end",[.7 .1 .7])
label2Theta(ax)

xline(ax,get2Theta([0 0 6])*180/pi,...
    Linewidth=2,...
    DisplayName="bulk")
xline(ax,38.2,...
    Linewidth=2,...
    LineStyle="--",...
    DisplayName="pseudomorphic")
l = legend;
    l.Title.String = "film thickness";
axis([0.003764300847458   0.004204978813559   0.008500000000000   80.214954109604951]*1e4)
title("(00.6) Cr2O3 on Al2O3")

%% plot in plot
ax2 = axes("Position",...
    [0.307856049693215   0.661567877629058   0.201175148993157   0.220329827346034],...
    "FontSize",12,...
    "XAxisLocation","bottom",...
    "YAxisLocation","left",...
    "Box","on");
grid(ax2,"on")
hold(ax2,"on")
xlabel("{\itd} (nm)")
ylabel("\Delta{\itd}/{\itd}_{lit}")
scatter(ax2,numeric(:,1),numeric(:,2),36*1.5,cm,"filled","^")
yline(ax2,0.039,...
    Linewidth=2,...
    LineStyle="--")
yline(ax2,0,...
    LineWidth=2)
axis(ax2,"padded")

exportgraphics(gcf,"../Plots/TCO/energyThickness_c.pdf")